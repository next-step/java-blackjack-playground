## 이전에 지키지 못한 설계 원칙
* 하나하나 지시하지 말고 요청해라.
    * 예를들어, 판사가 증인에게 1) 목격했던 장면을 떠올리고, 2) 떠오르는 시간을 순서대로 구성하고, 3) 말로 간결하게 표현해라 라고 요청하지 않는다. 그냥 "증언하라" 라고 요청한다.
    * 마찬가지로 객체의 설계단계에서도 책임이 있는 객체에 요청만 하도록 설계한다.
* 역할과 책임을 확실히 분리하기
    * 이전 코드에서 InputView가 단순 input을 받고 보여주는 역할을 넘어 게임의 로직까지 관리함


## 구현
* Strategy pattern 사용
* String, int 등의 자료형 사용 x. 다 포장하기
* 딜러의 수익금 규칙은 명확하지 않으니 spec out
* 객체의 다형성을 이용해 조건문 줄이기 (아래 UML 사용)
    <img src="https://images.velog.io/images/new_wisdom/post/5c238570-b95c-4c63-b6ae-6e4b2ab77716/image.png" width="80%" />
    
    [이미지 출처](https://newwisdom.tistory.com/27)
* 주요 객체들은 첫 구현 시 equals method & hashCode method를 override 해줄 것

## 주요 객체
    * User
        * Player
        * Dealer
    * card 관련
        * enums
            * Denomination
            * Suit
        * Card
        * Cards
        * Deck
    * State
        * Running
            * Hit
        * Finished
            * Bust
            * Stay
            * Blackjack
    * Controller

## 게임 규칙(from [toney parky](https://github.com/woowacourse/java-blackjack/tree/toneyparky))
- [x]  플레이어의 이름을 입력 받는다.
    - [x]  문자열 처리
    - [x]  참여인원 제한
    - [x]  플레이어 생성
- [x]  플레이어마다 베팅 금액을 입력 받는다.
    - [x]  문자열 처리
    - [x]  입력 범위 처리  
- [x]  게임 시작시 카드 2장을 딜러와 플레이어에게 나누어 주어야 한다.
    - [x]  Deck에서 2장을 pop해서 준다. (2장 pop하는 메서드도 가능)
    - [x]  Deck을 만들어야 한다.
- [x]  딜러는 1장, 플레이어는 2장의 카드를 공개한다.
- [x]  처음에 블랙잭일시 플레이어와 딜러의 패에 따라 경기 처리
- [x]  플레이어가 카드를 더 받을수 있는지 검사 해야한다.
    - [x]  ACE는 1 또는 11로 계산할 수 있다.
    - [x]  K,Q,J는 10으로 계산한다.
- [x]  플레이어가 카드를 더 받고 싶어하는지 검사 해야한다.
- [x]  받을수 있고, 받고자 한다면 카드를 나누어준다.
- [x]  플레이어가 카드를 받으면 카드의 상태를 출력한다.
- [x]  플레이어 페이즈가 끝나면 딜러가 카드를 받는다.
    - [x]  딜러가 16이하의 점수를 갖고 있으면 넘을때 까지 카드를 받는다.
- [x]  카드 결과를 출력한다.
- [x]  블랙잭 게임 결과에 따른 베팅 금액을 출력한다.
    - [x]  딜러가 블랙잭이면 블랙잭을 가진 사람 이외의 플레이어는 전부 패배하여 베팅 금액을 돌려 받지 못한다. (둘다 블랙잭이면 돌려 받음.)
    - [x]  둘다 버스트면 딜러가 이긴다.
    - [x]  처음 2장으로 21이 만들어지면 블랙잭이다.
    - [x]  버스트면 0점으로 간주한다.
    - [x]  플레이어가 블랙잭으로 승리시 배팅 금액의 1.5배를 받는다.
    - [x]  플레이어가 승리시 베팅 금액만큼을 받는다.
    - [x]  플레이어가 패배시 베팅 금액만큼을 잃는다.

## 기능 요구 사항
블랙잭 게임을 변형한 프로그램을 구현한다. 블랙잭 게임은 딜러와 플레이어 중 카드의 합이 21 또는 21에 가장 가까운 숫자를 가지는 쪽이 이기는 게임이다.

- 플레이어는 게임을 시작할 때 배팅 금액을 정해야 한다.
- 카드의 숫자 계산은 카드 숫자를 기본으로 하며, 예외로 Ace는 1 또는 11로 계산할 수 있으며, King, Queen, Jack은 각각 10으로 계산한다.
- 게임을 시작하면 플레이어는 두 장의 카드를 지급 받으며, 두 장의 카드 숫자를 합쳐 21을 초과하지 않으면서 21에 가깝게 만들면 이긴다. 
    - 21을 넘지 않을 경우 원한다면 얼마든지 카드를 계속 뽑을 수 있다. 단, 카드를 추가로 뽑아 21을 초과할 경우 배팅 금액을 모두 잃게 된다.
- 처음 두 장의 카드 합이 21일 경우 블랙잭이 되면 베팅 금액의 1.5 배를 딜러에게 받는다. 
    - 딜러와 플레이어가 모두 동시에 블랙잭인 경우 플레이어는 베팅한 금액을 돌려받는다.
- 딜러는 처음에 받은 2장의 합계가 16이하이면 반드시 1장의 카드를 추가로 받아야 하고, 17점 이상이면 추가로 받을 수 없다. 
    - 딜러가 21을 초과하면 그 시점까지 남아 있던 플레이어들은 가지고 있는 패에 상관 없이 승리해 베팅 금액을 받는다.

- BlackJack이 아닐 경우, 플레이어는 Hit(카드를 받는다), Stay(그만 받는다) 중 하나를 선택할 수 있다.

- Stay를 선택할 경우 그 판에서는 더이상 카드를 받을 수 없으므로, 게임이 종료된다.

- Hit를 선택할 시, 카드를 한 장 더 받게되고
이 때, 카드의 합이 21이 초과했을 경우 Bust로 딜러의 카드 합 및 결과와 관계없이 패배한다.

- 21이하인 경우는, 본인 판단하에 Stay를 선택해 게임을 종료하여
딜러의 카드 합과 플레이어의 카드 합 중 높은 쪽이 승리하게 되는 게임이다.

## 실행결과
```
게임에 참여할 사람의 이름을 입력하세요.(쉼표 기준으로 분리)
pobi,jason

pobi의 배팅 금액은?
10000

jason의 배팅 금액은?
20000

딜러와 pobi, jason에게 2장의 나누었습니다.
딜러: 3다이아몬드
pobi카드: 2하트, 8스페이드
jason카드: 7클로버, K스페이드

pobi는 한장의 카드를 더 받겠습니까?(예는 y, 아니오는 n)
y
pobi카드: 2하트, 8스페이드, A클로버
pobi는 한장의 카드를 더 받겠습니까?(예는 y, 아니오는 n)
n
jason은 한장의 카드를 더 받겠습니까?(예는 y, 아니오는 n)
n
jason카드: 7클로버, K스페이드

딜러는 16이하라 한장의 카드를 더 받았습니다.

딜러 카드: 3다이아몬드, 9클로버, 8다이아몬드 - 결과: 20
pobi카드: 2하트, 8스페이드, A클로버 - 결과: 21
jason카드: 7클로버, K스페이드 - 결과: 17

## 최종 수익
딜러: 10000
pobi: 10000 
jason: -20000

```


## [NEXTSTEP 플레이그라운드의 미션 진행 과정](https://github.com/next-step/nextstep-docs/blob/master/playground/README.md)

---
## 학습 효과를 높이기 위해 추천하는 미션 진행 방법

---
1. 피드백 강의 전까지 미션 진행 
> 피드백 강의 전까지 혼자 힘으로 미션 진행. 미션을 진행하면서 하나의 작업이 끝날 때 마다 add, commit
> 예를 들어 다음 숫자 야구 게임의 경우 0, 1, 2단계까지 구현을 완료한 후 push

![mission baseball](https://raw.githubusercontent.com/next-step/nextstep-docs/master/playground/images/mission_baseball.png)

---
2. 피드백 앞 단계까지 미션 구현을 완료한 후 피드백 강의를 학습한다.

---
3. Git 브랜치를 master 또는 main으로 변경한 후 피드백을 반영하기 위한 새로운 브랜치를 생성한 후 처음부터 다시 미션 구현을 도전한다.

```
git branch -a // 모든 로컬 브랜치 확인
git checkout master // 기본 브랜치가 master인 경우
git checkout main // 기본 브랜치가 main인 경우

git checkout -b 브랜치이름
ex) git checkout -b apply-feedback
```
